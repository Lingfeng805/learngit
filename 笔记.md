## 创建版本库

首先，选择一个合适的地方，创建一个空目录：

```python
$ mkdir learngit    # mkdir 新建一个文件
$ cd learngit       # 定位到这个新建的目录
$ pwd               # pwd用于显示当前目录
```

第二步，通过`git init`命令把这个目录变成Git可以管理的仓库：

```python
$ git init          # 初始化这个存储库
```

把文件放到Git仓库需要两步：

第一步，用命令``git add`告诉Git，把文件添加到仓库：

```python
$ git add 笔记.md    # 把“笔记.md”这个文件添加到仓库
```

第二步，用命令`git commit`告诉Git，把文件提交到仓库：

```python
$ git commit -m "写一段备注"    # -m后面输入的是本次提交的说明
```

为什么Git添加文件需要add,commit一共两步呢？因为`commit`可以一次提交很多文件，所以你可以多次`add`不同的文件，比如：

```python
$ git add file1.txt 
$ git add file2.txt file3.txt 
$ git commit -m "add 3 files."
```

`git status`命令查看仓库当前的状态。

`git diff 文件名`命令查看指定文件具体修改了什么内容。

如果需要提交修改后的文件，还是上述两步。`git add 文件`和`git commit -m "message"`

## 版本回退

`git log`命令查看历史记录。显示从最近到最远的提交日志。

在Git中，用`HEAD`表示当前版本，上一个版本是`HEAD^`，上上个版本是`HEAD^^`，往上100个版本写成`HEAD~100`。

`git reset`命令，退回至指定版本：

```python
$ git reset --hard HEAD^    # 退回至上一个版本
```

`git reflog`命令记录之前进行过的每一次命令。

## 工作区和暂存区

**工作区**（Working Directory） ：电脑里能看到的目录，比如我的`learngit`文件夹就是一个工作区；

**版本库**（Repository）: 工作区有一个隐藏目录`.git`，这个不算工作区，而是Git的版本库。版本库里存了很多东西，最重要的是stage（或叫index）的暂存区，还有Git为我们自动创建的每一个分支`master`，以及指向`master`的一个指针叫`HEAD`。

![git-repo](E:/software/Typora/pictures/0)

可简单理解为：需要提交的文件修改通通放到暂存区（git add），然后，一次性提交暂存区的所有修改（git commit -m ' message'）。

## 管理修改

Git跟踪并管理的是修改，而非文件。每次修改，如果不用`git add`到暂存区，就不会加入到`commit`中。

## 撤销修改

`git checkout -- 文件名`可以丢弃工作区的修改：有两种情况：1.文件自修改后还没有被放到暂存区，现在撤销修改就回到和版本库一模一样的状态；2.文件已经被添加到暂存区，又做了修改，现在，撤销修改就回到添加到暂存区后的状态。

命令`git reset HEAD <file>`可以把暂存区的修改撤销掉（unstage），重新放回工作区。`git reset`命令既可以回退版本，也可以把暂存区的修改回退到工作区。当我们用`HEAD`时，表示最新的版本。

## 删除文件

